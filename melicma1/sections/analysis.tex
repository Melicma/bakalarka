\chapter{Analýza}

    \section{Existující řešení}
        Před návrhem a implementací aplikace bylo potřeba řádně prozkoumat existující řešení problému, technologií k tvorbě a elektronické formáty, které se užívají pro uchování elektronických děl. Vzhledem k roztoucí poptávce po elektronických děl na úkor papírových se podle očekávání objevilo spoustu aplikací pro editaci těchto děl.\\
        Podle serveru \cite{tei-wiki} pět editorů
        \begin{itemize}
            \item Emeditor
            \item Editix
            \item EditPad Pro
            \item Essential XML Editor 
            \item Exchanger XML Editor
        \end{itemize}

        \subsection{Emeditor}
            Emeditor\footnote{domovská stránka: \url{https://www.emeditor.com/}} patří mezi nejlepší XML editory. Tento software je hlavním produktem americké firmy Emurasoft, Inc. sídlící v Redmondu ve Washingtonu. Firma se nadále stará o podporu i vývoj. Nicméně autorem editoru je Yutaka Emura. Samotná aplikace již vyhrála 24 mezinárodních cen v kategoriích nejlepší webový nástroj nebo nejlepší aplikace roku 2008. 
            
            \subsubsection{výhody}
                \begin{itemize}
                    \item poslední release v17.5.0 vyšla 27.\,února\,2018
                    \item podpora velkých souborů
                    \item použití více jader při větší zátěži
                    \item kódování UTF-8
                    \item konfigurovatelná kontrola pravopisu
                \end{itemize}
                
            \subsubsection{nevýhody}
                \begin{itemize}
                    \item aplikace je placená, ale nabízí trial verzi na 30 dní
                    \item existuje free verze, nicméně v ní chybí zásadní funkce
                    \item editor je pouze pro Windows
                    \item chybí přehledný průvodce základních funkcí po prvním spuštění
                \end{itemize}
                
        \subsection{Editix} 
            Editix\footnote{domovská stránka: \url{http://www.editix.com/index.html/}} je produktem francouzské společnosti JAPISoft SARL. Editor vytvořil Alexandre Brillant. Systém je velice přehledný a intuitivní. Na trhu systém je od roku 2004 a nejnovější verze je EditiX XML Editor 2017 v15. Zákaznící, kteří využívají tento software jsou převážně vzdělávací instituty od University of Oxford po University of Arizona.
            
            \subsubsection{výhody}
                \begin{itemize}
                    \item přehledný program
                    \item aplikace je pro platformy Windows, Linux, MacOS	
                    \item existuje EditiX Community Edition, která je zadarmo
                    \item mnoho užitečných funkcí např. Find and Replace
                    \item obsahuje inteligentní našeptávač, který pomáhá uživatelům
                \end{itemize}
                
            \subsubsection{nevýhody}
                \begin{itemize}
                    \item verze pro je placená, ale nabízí trial verzi na 30 dní
                    \item existuje lite verze, které chybí spoustu funkcí
                    \item zaplacení licence se vztahuje pouze na jednoho uživatele
                    \item první update je zdarma, další se musí zaplatit
                \end{itemize}
                
        \subsection{EditPad Pro}
            EditPad Pro\footnote{domovská stránka: \url{http://www.editpadpro.com/}} je výhradně textový editor, který lze použít například pro HTML, Javascript nebo XML. Software podporuje změnu jazyka napřiklad do francouzštiny, němčiny, polštiny nebo švédštiny. Projeck Just Great Software, pod kterým byla vyvynuta tato aplikace vznikl v roce 1996. Autorem projektu je Jan Goyvaerts, který je zároveň hlavním ředitelem vývojářu projektu.

            \subsubsection{výhody}
                \begin{itemize}
                    \item program je obecný textový editor
                    \item obarvená syntaxe
                    \item dobře pracuje s velkými soubory
                    \item podpora UTF-8
                    \item existuje EditPad Lite verze, která je zdarma
                \end{itemize}
                
            \subsubsection{nevýhody}
                \begin{itemize}
                    \item nemá explicitní podporu pro XML
                    \item aplikace je pouze pro Windows
                    \item chybí vyhledávání v souborech
                    \item verze Pro je placená, ale existuje verze Lite
                \end{itemize}
                
        \subsection{Essential XML Editor}
            Essential XML Editor\footnote{domovská stránka: \url{http://www.philo.de/xmledit/}} je jednoduchý XML editor. Jeho klíčovou vlastnostní je vestavěný XML validátor. Vývojáři dříve pojmenovali program Open XML Editor, ale po zavedení poplatku za některé funkce projekt přejmenovali. Autorem je Dieter Köhler. 
            
            \subsubsection{výhody}
                \begin{itemize}
                    \item program pracuje jako textový editor
                    \item možnost rychle zjistit zda je soubor validní
                    \item trial verze není časově omezená
                    \item vstupní soubor může být v různém kódování
                    \item klávesová zkratka pro každý příkaz
                \end{itemize}
                
            \subsubsection{nevýhody}
                \begin{itemize}
                    \item výstupní soubor pouze v UTF-8 kódování
                    \item aplikace je pouze pro Windows
                    \item pro zpřístupnění některých funkcí nutnost zakoupit klíč
                    \item poměrně zastaralý desing aplikace
                \end{itemize}

        \subsection{Exchanger XML Editor}
            Exchanger XML Editor\footnote{domovská stránka: \url{http://www.exchangerxml.com/editor/}} je určen pro snadnou editaci, prohlížení, správu a konverzi XML souborů. Exchanger pomáhá svojí širokou nabídkou funkcí XML autorům a vývojářům.  Software je prouktem firmy Cladonia, která se zaměřuje na vývoj XML aplikací. 
            
            \subsubsection{výhody}
                \begin{itemize}
                    \item nabízí full verzi na 30 dní
                    \item aplikace je dotupná na všech platformách
                    \item možnost zobrazení základního náhledu
                    \item poskytuje podporu pro TEI formou stáhnutí balíčku
                    \item automatická kotrola, jestli je soubor validní
                \end{itemize}
                
            \subsubsection{nevýhody}
                \begin{itemize}
                    \item při instalaci nutnost najít cestu k JRE manuálně
                    \item zastaralý software
                    \item časově neomezenou verzi je nutno zakoupit
                    \item poslední update proběhl v roce 2010
                \end{itemize}
                
    \section{Stávající aplikace}
        V současné době mají pracovníci UČL AV k dispozici aplikaci, která byla vyvinuta již v roce 2006. Serverová část (back-end) aplikace běží v node.
        
        \subsection{Aktuální stav}
        Tato aplikace je na první pohled podstatně zastaralá, a to jak v uživatelském rozhraní, tak i ve funkční části programu. To je způsobeno zastavením veškerého vývoje a podpory již před několika lety.

        \subsection{Nedostatky}
            Uživatelé pracující s aplikací si často stěžují například na rychlost běhu nebo na nemožnost přidávat chybějící části díla.
            
    \section{Technologie}
        Mezi první otázky projektu patřilo, v jaké technologii se bude psát. Po domluvě s pracovníky UČL AV jsem měl vytvořit webovou aplikaci, která je technologicky podobná té stávající. Aplikace měla mít přívětivé uživatelské rozhraní pro snadnou a rychlou správu elektronických děl neměla obsahovat zásadná chyby jako dřívější aplikace. 
        
        Další duležitou otázkou bylo, ve kterém elektronickém formátu se budou díla tvořit a uchovávat. Existuje celá řada formátů, proto bylo pro budoucí možné rozšíření duležité domluvit se s pracovníky na správném formátu.
        
        \subsection{Jazyk}
            U jednoduchých webových aplikací postačí, když klientská strana pošle požadavek na serverovou část, ta jej vyhodnotí a pošle odpověď zpět. Pro implementaci tohoto případu se nejčastěji používá architektura client/server \cite{languages}. 
            
            Jedna z výhod pro tuto architekturu je, že klientská strana programu je oddělena od serverové části. Výpočty jsou prováděny na straně serveru, proto nejsou požadovány vysoké nároky na výpočetní techniku počítače, na kterém běží klientská část. Probíhá zde věrší ochrana duležitých dat, protože všechny jsou uchovávány na serverové části.
            
            Nevýhodou může být vysoká cena zařízení pro provoz nebo pro správu serveru je potřeba systémového administrátora.\\
            Srovnání jazyků pro webové aplikace:
            
            \begin{itemize}
                \item PHP – jeden z nejrozšířenějsích jazyků, který podporoje většina poskytovatelů webhostingu. Tento jazyk je široce využíván mezi uživateli a obsahuje spostu standardních knihovních funkcí. Hodí se pro malé nebo středně velké projekty.
                \item Ruby – navzdory tomu, že Ruby je mladý jazyk, těší se velké oblíbenosti mezi webovými vývojáři. Nejznámější framework Ruby on Rails umožňuje rychle vytvářet vzorové nebo malé projekty, avšak neprochází všemi časovými testy, a proto velmi pravděpodobně obsahuje zásadní chyby. Pro nové uživatele je z důvodu daných pravidel Ruby on Rails složitý na implementaci nezbytných funckí.
                \item Perl – momentálně vývoj jazyku probíhá velice pomalu, jeho použití ve větších webových projektech je spíše vzácností.
                \item Python – díky nástupu velkých frameworků - například Django, je možné použit Python ve velkých webových projektech. Syntaxe kódu je podobná Ruby, ale hlavní rozdíl činí ideologie psaní kódu. Nicméně narozdíl od Ruby se Python rozvíjí rychleji.
                \item C\# ASP.NET – pro správné fungování jazyka je třeba zařídit ISS server, který je nezbytný pro mnoho komerčních projektů od firmy Microsoft. Jiným řešením může být použítí serveru Mono, který ale není stabilní a může obsahovat mnoho chyb.
                \item JAVA – tento široce využívaný jazyk lze aplikovat na velké či korporační projekty. Je poměrně rychlý a obsahuje spoustu již vyřešených složitých problémů, které nemusí uživatel znovu řešit. Pro začátek je vyžadováno poměrné velké množství znalostí, aby fungovala základní kostra programu, což se považuje za významnou nevýhodu.
            \end{itemize}
            
            Pro tento projekt postačí menší a jednoduší aplikace, kterou zaměstnanci UČL AV snadno nahrají na jejich servery, a proto byl na základě této analýzy vybrán jazyk PHP.
            
        \subsection{Databáze}
            Srovnání několika open-source databázových řešení podle \cite{database}\\
            \begin{itemize}
                \item CUBRID\footnote{domovská stránka: \url{https://www.cubrid.org/}} – byl navržen a optimalizován pro webové aplikace. Hodí se pro práci s velkými daty, nebo při nutnosti použití více dotazů najednou. Výhodou je možnost online zálohy a grafické rozhraní pro jazyky PHP, Python, Perl a Ruby. N druhou stranu manuál existuje pouze v angličtině nebo korejštině. Spoustu příspěvku na forum jsou řadu let stará.
                \item Firebird\footnote{domovská stránka: \url{http://www.firebirdsql.org/en/start/}} – je prvním zástupcem relační databáze. Systém fungujícá již od roku 1981, který lze použít na Linux, Windows a další Unixové platformy. Firebird má obsáhlou komunitu, uživatel může využít spoustu vývojářských nástrojů a obsahuje autentizaci skrz Windows účet. Naopak chybí dočasné tabulky a integrace mezi ostatnímy databázovými systémy.
                \item MariaDB\footnote{domovská stránka: \url{https://mariadb.org/}} – byla vytvořena původnímy vývojáři MySQL. MariaDB využívají dnes největší společnosti jako jsou Google nebo Facebook. Proto je ochrana dat na špičkové úrovni. Díky působení na trhu již přes 20 let patří mezi nejvýkonější systémy. Jako nevýhoda se dá počítat chybějící plugin password complexity.
                \item MongoDB\footnote{domovská stránka: \url{https://www.mongodb.com/}} – byl vytvořen v roce 2007 jako řešení pro větší projekty. Díky svým sponzorům a podporovatelům si uchovává myšlenku být jednoduchý a přirozený. Dokáže zpracovat poměrně rychle velké množství dat a po hlavní závadě nastupuje rychlé obnovení.
                \item MySQL\footnote{domovská stránka: \url{https://www.mysql.com/}} – funguje již od roku 1995. Dnes je využívána jako standardní databáze pro menší i větší projekty. Běží na všech známých operačních systémech a lze použit, ikdyž není funkční síť. Velkou výhodou nabízí oddělený server od vývojového prostředí. Trochu uvadá komunita a nové aktualizace přichází čám dál tím později. 
                \item PostgreSQL\footnote{domovská stránka: \url{https://www.postgresql.org/}} – má za sebou 15 let aktivního vývoje a patří mezi systémy, které běží na všech hlavních operačních systémech. S použitím PostgreSQL může uživatel vytvořit vlastní metody nebo nestandardní datové typy. Mnoho věstavěných procedur lze spouštět skrze mnoho programovacích jazyků, jako je Java, Perl, Python nebo C/C++. Nastává problém při vysokém počtu transakcí a vývoj je řízen pouze komunitou.
                \item SQLite\footnote{domovská stránka: \url{https://www.sqlite.org/index.html}} – se sama považuje za nejrozvinutější datavázi na světě. Vývoj začal v roce 2000 a použivali jej významné firmy jako je Facebook, Apple nebo Microsoft. Před každém release musí být kód pečlivě zkontrolován, aby se předešlo případným chybám. Poté vývojáři zveřejní přesný výčet změn. K dispozivi je kvalitní podpora a knihovna, která pracuje rychle na úkor velikosti paměti. SQLite se nedoporučuje pro obsáhlé webové aplikace a velké množství dat.
        \end{itemize}
        
        Na základě zjištění a protože tento projekt bude patřit spíše k těm menším, byla vybrána databáze SQLite.
        
        \subsection{Elektronický formát}
            \uv{\textit{Mezi formáty, v nichž můžeme číst elektronickou literaturu, jsou jednak ty, které byly pro tento účel přímo vytvořené, ale také ty, v nichž se e-knihy publikovaly prostě proto, že nebylo mnoho jiných alternativ. Toto se týká zejména stavu v 90. letech, kdy vznikaly kopie (převážně papírových) knih převedené do formátů jako jsou TXT, HTML či RTF.}}\cite{electronic-format}
            
            Elektronickému formátu je třeba věnovat zvláštní pozornost, protože se do buducna počítá s rozšířením aplikace o část, která se bude věnovat zobrazením těchto děl.
            
            Seznam vybraných formátů pro e-knihy uvedené v \cite{electronic-format}
            
            \begin{itemize}
                \item Archos Diffusion – je formát vytvořen franouzskou firmou  ArchosDiffusion. Koncovka názvů souborů je .aeh. Formát byl vytvořen pro uchovávání elektronický děl a patří do skupiny formátů založených na XML. Otevírat soubory lze v programu Archos Player nebo ve volně dostupné aplikaci Visual Vision EbooksReader. Postupem času uvadá zájem o tento formát.
                \item AZW
                \item EPUB
                \item Text Encoding Initiative
                \item Hypertext Markup Language
                \item Portable Document Format
                \item Plain text
            \end{itemize}
            
            Drtivá většina děl dostupná pracovníkům UČL AV je právě ve formátu xml, avšak tento formát není primárně určen pro uchovávání elektronických verzí literárních děl, proto byl vybrán mou práci textový formát TEI (Text Encoding Initiative).
    \section{Software}
        jaký framework jsem vybral, twig
    \section{Grafické nástroje}
        podle jakých nástrojů jsem dělal grafické návrhy
